!Setup DHCP for d1 d2

how to setup DHCP
ip dhcp excluded-add <range of IP to be excluded>
ip dhcp pool <name> (**pangalan lang, hindi command**)
network <network IP> <subnet mask ng NetIP>
default-router <user IP ng Def. Gateway>

@D1
conf t
ip dhcp excluded-add 10.2.1.1 10.2.1.99
ip dhcp excluded-add 10.2.1.200 10.2.1.254
ip dhcp pool vlan10
network 10.2.1.0 255.255.255.0
default-router 10.2.1.254

@A1:
conf t
int e0/0
switchport mode access
switchport access vlan 10
end

P1:
conf t
int e0/0
ip add dhcp
no shut
do bp

@D2
conf t
ip dhcp excluded-add 10.2.2.1 10.2.2.99
ip dhcp excluded-add 10.2.2.200 10.2.2.254
ip dhcp pool vlan20
network 10.2.2.0 255.255.255.0
default-router 10.2.2.254

@A2:
conf t
int e1/0
switchport mode access
switchport access vlan 20
end

P2:
conf t
int e1/0
ip add dhcp
no shut
do bp


CISCO ROUTING PROTOCOLS

Para maging master ka sa routing, dapat pakilala ka as IM.BODSS


I - IS - IS
M- MPLS (Multiprotocol Layer Switching)
.__________bounderies mo muna below____
B - Border Gateway Protocol (BGP) (CCNP level ito pero hinahaginap sa job requirement)
O - OSPF (Open Shortest Path First)
D - D'EIGRP (Enhanced Interior Gateway Routing Protocol)
_________
S - Static 
S* - Default Static (a.k.a. STUB routing in old CCNA days)

Best practice before to configure routing, know the two rules of pingables
1. PING = DIKIT
2. ROUTE not DIKIT

STATIC ROUTING
- Administrative Distance  =2
- A.K.A. as manual routing 
- Applying static routes requires 2 way to configure
(Source and Destination and vice-versa)
recipe:
conf t
ip route <not directly connected network IP> <subnetmask of NDCP> <Host IP of next hop>


R4--->R2
@r4
conf t
ip route 10.1.1.4 255.255.255.252 10.1.1.9
end

R2---->R4
@r2
conf t
ip route 10.1.1.8 255.255.255.252 10.1.1.6
end


R3-----> R1
@r3
conf t
ip route 10.1.1.0 255.255.255.252 10.1.1.5
end

R1-----> R3
@r1
conf t
ip route 10.1.1.4 255.255.255.252 10.1.1.2
end

R4---->R1
conf t 
ip route 10.1.1.0 255.255.255.252 10.1.1.9
end

R1---->R2
conf t 
ip route 10.1.1.8 255.255.255.252 10.1.1.2
end


@R1,R2,R3,R4   Clear the Static Routes
conf t
no ip routing
ip routing
end


Configure EIGRP Routing
- enhance interior gateway routing protocol
- AD = 90
- the best dynamic routing protocol
- Cisco Proprierty 

STATES: Hello > query > Update > REceive > Acknowledge

recipe: 
conf t
router eigrp (AS no. , must be matched to other EIGRP routers)
no auto-summary
network (Directly connected NetIP)
*this could  be multiple tmied deoending on how many directly connected routes


@D1
conf t
router eigrp 100
no auto-summary
network 10.1.4.4
network 10.2.1.0
network 10.2.2.0
network  192.168.1.128
end

@D2
conf t
router eigrp 100
no auto-summary
network 10.1.4.8
network 10.2.1.0
network 10.2.2.0
network  192.168.1.128
end


@R4
conf t
router eigrp 100
no auto-summary
network 10.1.4.4
network 10.1.4.8
end

to check:
SIEN: show ip eigrp neigbhor
SIP: show ip protocols
SIRE: show ip route eigrp


OSPF Routing***
- Multi Vender dynamic routing protocol
- Link State Advertisment
-  Implements Djikstra Algorithm
- Advertised by area (Area 0 is the backbone)

STATES: 
D - down
I - Init
T - Two-way
E - exstart
E - exchange
L - Loading
F - FULL


recipe:
conf t
router ospf # (process id)
	router-id (#.#.#.#) (kadalasan loopback add)
	network <Directly Connected NetIP> <Wildcard of DCN> are (##)


@R4
conf t
router ospf 1 
router-id 4.4.4.4
network 10.1.1.8 0.0.0.3 area 34
network 4.4.4.4 0.0.0.0 are 34
end



R3 
conf t
router ospf 1 
router-id 3.3.3.3
network 10.1.1.8 0.0.0.3 area 34
network 10.1.1.4 0.0.0.3 area 0
network 3.3.3.3 0.0.0.0 are 0
end


R2
conf t
router ospf 1 
router-id 2.2.2.2
network 10.1.1.0 0.0.0.3 area 12
network 10.1.1.4 0.0.0.3 area 0
network 2.2.2.2 0.0.0.0 are 0
end

R1
conf t
router ospf 1 
router-id 1.1.1.1
network 10.1.1.0 0.0.0.3 area 12
network 1.1.1.1 0.0.0.0 are 12
end


!!! EXAM CONFIGURATION
@github lines 239-285



BGP = Border Gateway Protocol
-Mostly used in WAN
- AD = 20
- Used by ISP ang Large Corporations

STATES:    N
	C
	

BGP is also BiG Payroll


recipe:
conf t
router bgp # (AS no.)
bgp log-neighbor-changes 
neighbor <host ip ni kapitbahay> remote -as # (AS no.) * no. of neighbor depends 
network <NetIP papunta sa kapitbahay> mask <subnetmask kay kapitbahay>  * no. of network neighbor depends 
end

@R1
conf t
router bgp 1
bgp log-neighbor-changes
neighbor 208.8.8.4 remote-as 45
neighbor 207.7.7.2 remote-as 2
neighbor 209.9.9.3 remote-as 3
network 208.8.8.0 mask 255.255.255.0
network 207.7.7.0 mask 255.255.255.0
network 209.9.9.0 mask 255.255.255.0
network 10.1.1.0 mask 255.255.255.0
end



@i1
conf t
router bgp 45
bgp log-neighbor-changes
neighbor 45.4.5.5 remote-as 45
neighbor 24.2.4.2 remote-as 2
neighbor 208.8.8.1 remote-as 1
network 45.4.5.0 mask 255.255.255.0
network 24.2.4.0 mask 255.255.255.0
network 208.8.8.0 mask 255.255.255.0
network 44.44.44.44 mask 255.255.255.255

!PretentInternet
network 0.0.0.0
ip route 0.0.0.0 0.0.0.0 null 0
ip route 10.0.0.0 255.0.0.0 208.8.8.1
end


@i2
conf t
router bgp 2
bgp log-neighbor-changes
neighbor 25.2.5.5 remote-as 45
neighbor 24.2.4.4 remote-as 45
neighbor 207.7.7.1 remote-as 1
neighbor 32.3.2.3 remote-as 3

network 25.2.5.0 mask 255.255.255.0
network 24.2.4.0 mask 255.255.255.0
network 207.7.7.0 mask 255.255.255.0
network 32.3.2.0 mask 255.255.255.0
network 22.22.22.22 mask 255.255.255.255

!PretentInternet
network 0.0.0.0
ip route 0.0.0.0 0.0.0.0 null 0
ip route 10.0.0.0 255.0.0.0 207.7.7.1
end



@i3
conf t
router bgp 3
bgp log-neighbor-changes
neighbor 35.5.5.5 remote-as 45
neighbor 32.3.2.2 remote-as 2
neighbor 209.9.9.1 remote-as 1


network 35.5.5.0 mask 255.255.255.0
network 32.3.2.0 mask 255.255.255.0
network 209.9.9.0 mask 255.255.255.0
network 33.33.33.33 mask 255.255.255.255

!PretentInternet
network 0.0.0.0
ip route 0.0.0.0 0.0.0.0 null 0
ip route 10.0.0.0 255.0.0.0 209.9.9.1
end


@googledns
conf t
router bgp 45
bgp log-neighbor-changes
neighbor 35.3.5.3 remote-as 3
neighbor 25.2.5.2 remote-as 2
neighbor 45.4.5.4 remote-as 45


network 35.3.5.0 mask 255.255.255.0
network 25.2.5.0 mask 255.255.255.0
network 45.4.5.0 mask 255.255.255.0
network 55.55.55.55 mask 255.255.255.255
network 8.8.8.8 mask 255.255.255.255
end


to check: sh ip bgp summary 


ROUTE REDISTRIBUTION
(by default, diffretent routing protocols cannot get along to each other)

@R1: (for BGP & OSPF)
conf t
router ospf 1
default-information originate always 
end



@R4 (for eigrp enter ospf)
conf t
router ospf 1
redistribute eigrp 100 subnets
exit
 
!OSPF enter EIGRP
router eigrp 100
redistribute ospf 1 metric 1544 2000 255 1 1500


DEFAULT STATC (STUB ROUTING)

@P1
conf t
ip route 0.0.0.0 0.0.0.0 10.2.1.1
end

@P2
conf t
ip route 0.0.0.0 0.0.0.0 10.2.2.2
end
